<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Content generated by Mediawiki and mw2html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15.1" />
		<meta name="keywords" content="Slag:Preprocessor Directives" />
		<link rel="shortcut icon" href="http://plasmaworks.com/sites/default/files/sky_favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Plasmaworks (en)" />
		<link rel="alternate" type="application/rss+xml" title="Plasmaworks RSS Feed" href="" />
		<link rel="alternate" type="application/atom+xml" title="Plasmaworks Atom Feed" href="" />
		<title>Slag:Preprocessor Directives - Plasmaworks</title>
		<link rel="stylesheet" href="shared.css" type="text/css" media="screen" />
		<link rel="stylesheet" href="commonprint.css" type="text/css" media="print" />
		<link rel="stylesheet" href="main.css" type="text/css" media="screen" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="ie50fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="ie55fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="ie60fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="ie70fixes.css" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="" type="text/css" />
		<link rel="stylesheet" href="" type="text/css" media="print" />
		<link rel="stylesheet" href="" type="text/css" />
		<link rel="stylesheet" href="" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="iefixes.js_207"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/wiki/skins";
		var wgArticlePath = "/wiki/index.php/$1";
		var wgScriptPath = "/wiki";
		var wgScript = "/wiki/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://www.plasmaworks.com";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Slag:Preprocessor_Directives";
		var wgTitle = "Slag:Preprocessor Directives";
		var wgAction = "view";
		var wgArticleId = "141";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 957;
		var wgVersion = "1.15.1";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="wikibits.js_207"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="ajax.js_207"></script>
		<script type="text/javascript" src=""><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Slag_Preprocessor_Directives skin-monobook">
	<div id="globalWrapperHacked">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">Slag:Preprocessor Directives</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Plasmaworks</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Preprocessor_Directives"><span class="tocnumber">1</span> <span class="toctext">Preprocessor Directives</span></a></li>
<li class="toclevel-1"><a href="#Preprocessor_Defines"><span class="tocnumber">2</span> <span class="toctext">Preprocessor Defines</span></a>
<ul>
<li class="toclevel-2"><a href="#Slag_Defines"><span class="tocnumber">2.1</span> <span class="toctext">Slag Defines</span></a></li>
<li class="toclevel-2"><a href="#Plasmacore_Defines"><span class="tocnumber">2.2</span> <span class="toctext">Plasmacore Defines</span></a></li>
</ul>
</li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Preprocessor_Directives" id="Preprocessor_Directives"></a><h2> <span class="mw-headline"> Preprocessor Directives </span></h2>
<p>The following commands are evaluated at compile-time rather than run-time:
</p>
<dl><dt> [define IDENTIFIER]
</dt><dt> [define IDENTIFIER expression]
</dt><dd> <i>Defines</i> the given identifier, causing "defined(IDENTIFIER)" to return "true" and replacing IDENTIFIER with the given expression (which can be arbitrary tokens) wherever it's encountered.  C-style <i>macros</i> with arguments are not currently supported.
</dd></dl>
<pre> [if defined(WINDOWS) or defined(MAC)]
   [define CHEAT]
 [endIf]
 [define OP +]
 ...
   method on( KeyEvent e )  # in Plasmacore
 [if defined(CHEAT)]
     if (e.is_press('S')) current_level.skip
 [endIf]
     if (e.is_press('A')) println( 3 OP 5 )  # prints: 8
</pre>
<p><br />
</p>
<dl><dt> defined(IDENTIFIER)
</dt><dd> Returns "true" if the given IDENTIFIER has been either automatically or explicitly defined with a [define] directive.  Can be used by the [if] conditional directive at compile time or by a regular <i>if</i> (etc.) at run-time.
</dd></dl>
<dl><dt> [if]/[elseIf]/[else]/[endIf]
</dt><dd> Conditional compile instructions that use <i>defined(id)</i> commands and/or other constant expressions to determine which of several blocks of code to compile.
</dd></dl>
<pre>   method init
     println( "Setting stuff up." )
 [if defined(WINDOWS)]
     do_special_windows_stuff
 [elseIf defined(ANDROID)]
     do_special_android_stuff
 [else]
     do_non_windows_non_android_stuff
 [endIf]
     do_general_stuff
     println( "Done." )
</pre>
<dl><dt> [include "filename.slag"]
</dt><dd> Queues the indicated file for compilation as part of the current project.  There are no ordering or dependency issues; as long as any given file is included <i>somewhere</i> it will be handled correctly.
</dd></dl>
<dl><dt> [includeDir "path"]
</dt><dd> Queues all .slag files in the given folder for include.
</dd></dl>
<dl><dt> [includeDefines "filename.slag"]
</dt><dd> Normally an [include] isn't parsed until after the current file is finished parsing.  The only time this can be a problem is if you want to keep global directives in a separate file - since they normally won't be parsed until after the current file is finished parsing, you won't have the correct values defined.  [includeDirectives] immediately processes all the preprocessor directives from the named file and then continues parsing the original file.
</dd></dl>
<dl><dt> [main ClassName]
</dt><dd> Normally the first class encountered in the main .slag file is the main class or start-up class - an object of which is created to launch the program.  A [main] directive anywhere in code will set the main class to an arbitrary class.
</dd></dl>
<dl><dt> [requisite all]
</dt><dd> Place at the top of a .slag file to mark all classes and all methods in that file as <i>requisite</i> so that unused classes and methods are not culled by the compiler.
</dd></dl>
<p><br />
</p>
<a name="Preprocessor_Defines" id="Preprocessor_Defines"></a><h2> <span class="mw-headline"> Preprocessor Defines </span></h2>
<p>The following parse tokens are either automatically <i>defined</i> or have special meaning <i>if</i> they're defined:
</p>
<a name="Slag_Defines" id="Slag_Defines"></a><h3> <span class="mw-headline"> Slag Defines </span></h3>
<dl><dt> ASSERT(logical)
</dt><dd> Normally, statements of the form ASSERT(result) are compiled out and have no effect.  If you define DEBUG, however, any assertion with a "false" argument causes an Error to be thrown.
</dd></dl>
<pre> [define DEBUG]
 class Test
   method init
     ASSERT(2+2==3)   # throws an error since DEBUG is defined
 endClass
</pre>
<dl><dt> DATE
</dt><dd> A literal string with the current year/month/day in YYYY.MM.DD format.
</dd></dl>
<pre> class Test
   method init
     println( DATE )
       # Prints e.g.: 2011.03.22
 endClass
</pre>
<dl><dt> DEBUG
</dt><dd> [define] this at the top of your main source file to enable assertions.  See ASSERT, above.
</dd></dl>
<a name="Plasmacore_Defines" id="Plasmacore_Defines"></a><h3> <span class="mw-headline"> Plasmacore Defines </span></h3>
<p>These defines are defined by the Plasmacore build system on a per-platform basis (e.g. "defined(WINDOWS)" is true if a project is being compiled for Windows):
</p>
<ul><li> WINDOWS
</li><li> MAC
</li><li> LINUX
</li><li> PLATFORM_IOS
</li><li> ANDROID
</li><li> WP7
</li></ul>
<p>(Note: PLATFORM_IOS is used because IOS is already used as the name of the iOS singleton class.)
</p>
<!-- 
NewPP limit report
Preprocessor node count: 5/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key pw_mediawiki_user:pcache:idhash:141-0!1!0!!en!2!edit=0 and timestamp 20120628114326 -->
<div class="printfooter">
Retrieved from "<a href="">http://www.plasmaworks.com/wiki/index.php/Slag:Preprocessor_Directives</a>"</div>
						<!-- end content --><div class="visualClear"></div></div></div></div>
    <div id="column-one">
      <div id="p-cactions" class="portlet"></div>
      <div class="portlet" id="p-personal"></div>
      <div class="portlet" id="p-logo"></div>
      <div class="portlet" id="p-nav">
  
      </div>
      <div id="p-search" class="portlet"></div>
      <div class="portlet" id="p-tb"></div>
    </div>
    <!-- end left column -->
  <!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footerHacked">
				<ul id="f-list">
					<li id="lastmod"> This page was last modified on 23 March 2011, at 04:11.</li>
					<li id="viewcount">This page has been accessed 1,059 times.</li>
					<li id="privacy"><a href="plasmaworks_privacy_policy.html" title="Plasmaworks:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="plasmaworks_about.html" title="Plasmaworks:About">About Plasmaworks</a></li>
					<li id="disclaimer"><a href="plasmaworks_general_disclaimer.html" title="Plasmaworks:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.254 secs. --><br></body></html>
