<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Content generated by Mediawiki and mw2html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15.1" />
		<meta name="keywords" content="Plasmacore v3.5,Plasmacore v3.0,Plasmacore v3.1,Plasmacore v3.2,Plasmacore v3.3,Plasmacore v3.4" />
		<link rel="shortcut icon" href="http://plasmaworks.com/sites/default/files/sky_favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Plasmaworks (en)" />
		<link rel="alternate" type="application/rss+xml" title="Plasmaworks RSS Feed" href="" />
		<link rel="alternate" type="application/atom+xml" title="Plasmaworks Atom Feed" href="" />
		<title>Plasmacore v3.5 - Plasmaworks</title>
		<link rel="stylesheet" href="shared.css" type="text/css" media="screen" />
		<link rel="stylesheet" href="commonprint.css" type="text/css" media="print" />
		<link rel="stylesheet" href="main.css" type="text/css" media="screen" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="ie50fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="ie55fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="ie60fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="ie70fixes.css" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="" type="text/css" />
		<link rel="stylesheet" href="" type="text/css" media="print" />
		<link rel="stylesheet" href="" type="text/css" />
		<link rel="stylesheet" href="" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="iefixes.js_207"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/wiki/skins";
		var wgArticlePath = "/wiki/index.php/$1";
		var wgScriptPath = "/wiki";
		var wgScript = "/wiki/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://www.plasmaworks.com";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Plasmacore_v3.5";
		var wgTitle = "Plasmacore v3.5";
		var wgAction = "view";
		var wgArticleId = "144";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 1069;
		var wgVersion = "1.15.1";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="wikibits.js_207"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="ajax.js_207"></script>
		<script type="text/javascript" src=""><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Plasmacore_v3_5 skin-monobook">
	<div id="globalWrapperHacked">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">Plasmacore v3.5</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Plasmaworks</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#3.5_Overview"><span class="tocnumber">1</span> <span class="toctext">3.5 Overview</span></a></li>
<li class="toclevel-1"><a href="#Download"><span class="tocnumber">2</span> <span class="toctext">Download</span></a></li>
<li class="toclevel-1"><a href="#Change_Log_for_3.5.0_.28June_18.2C_2011.29"><span class="tocnumber">3</span> <span class="toctext">Change Log for 3.5.0 (June 18, 2011)</span></a>
<ul>
<li class="toclevel-2"><a href="#Delegate_Methods"><span class="tocnumber">3.1</span> <span class="toctext">Delegate Methods</span></a></li>
<li class="toclevel-2"><a href="#Introspection"><span class="tocnumber">3.2</span> <span class="toctext">Introspection</span></a></li>
<li class="toclevel-2"><a href="#Timer"><span class="tocnumber">3.3</span> <span class="toctext">Timer</span></a></li>
<li class="toclevel-2"><a href="#Linux_Platform_Defunct"><span class="tocnumber">3.4</span> <span class="toctext">Linux Platform Defunct</span></a></li>
<li class="toclevel-2"><a href="#Miscellaneous"><span class="tocnumber">3.5</span> <span class="toctext">Miscellaneous</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Previous_Versions"><span class="tocnumber">4</span> <span class="toctext">Previous Versions</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="3.5_Overview" id="3.5_Overview"></a><h2> <span class="mw-headline"> 3.5 Overview </span></h2>
<ul><li> Compiler-side delegate method support.
</li><li> Limited compiler-side introspection support.
</li><li> Linux Platform is now defunct for the time being (the new version of Ubuntu breaks it).
</li></ul>
<p><br />
</p>
<a name="Download" id="Download"></a><h2> <span class="mw-headline"> Download </span></h2>
<ul><li> <a href="plasmacore_3.5.0.zip" class="external text" title="http://www.plasmaworks.com/files/plasmacore/archive/v/3.5.0/plasmacore-3.5.0.zip" rel="nofollow">Plasmacore v3.5.0</a> (2011.06.18, Windows/Mac/iPhone/iPad/Android/Windows Phone 7)
</li></ul>
<ul><li> To start a new project, unzip the file above, open in a command prompt in the new_project folder, and type:
</li></ul>
<dl><dd><ul><li> Windows:
</li></ul>
</dd></dl>
<pre> gogo build
</pre>
<dl><dd><ul><li> Mac, Linux:
</li></ul>
</dd></dl>
<pre> chmod +x gogo
 ./gogo build
</pre>
<ul><li> To upgrade an existing project, run "gogo upgrade" once to upgrade the core module, run "gogo" to finish the install, and then run "gogo upgrade" once more time to upgrade the auxiliary modules.
</li></ul>
<p><br />
</p>
<a name="Change_Log_for_3.5.0_.28June_18.2C_2011.29" id="Change_Log_for_3.5.0_.28June_18.2C_2011.29"></a><h2> <span class="mw-headline"> Change Log for 3.5.0 (June 18, 2011) </span></h2>
<a name="Delegate_Methods" id="Delegate_Methods"></a><h3> <span class="mw-headline"> Delegate Methods </span></h3>
<p>Slag now supports delegate methods aka function pointers.  By example:
</p>
<pre> class Test
   METHODS
     method init
       perform_test( delegate(add), Global.delegate(println(Int64)) )
         # Note: Global has more than one println() so we must add a signature
         #       when obtaining the delegate.
 
     method add( Int32 a, Int32 b ).Int32
       return a + b
 
     method perform_test( Delegate(Int32,Int32).Int32 fn, Delegate(Int64) printfn )
       printfn.call( fn.call(3,5) )  # Prints: 8
 endClass
</pre>
<ul><li> Delegates are objects that store an object context and call a specific method on that object with specific parameters.
</li><li> The type of a delegate is Delegate(ParamType1,ParamType2,...).ReturnType
</li><li> To create a delegate from an existing method, call obj.delegate(method_name).
</li><li> If the method is overloaded you will need to be more specific and supply a signature.  For example, "Math.delegate(abs)" would fail because there are multiple overloaded variations (Real64, Int64, etc.).  Instead write "Math.delegate(abs(Real64,Real64))" or "Math.delegate(abs(Int64,Int64))".
</li><li> On any given delegate function you can access ".context" to retrieve the object that the delegate operates on.
</li><li> The signal handlers now support delegates.  Example:
</li></ul>
<pre> ...
 method init
   SignalHandler( "update", delegate(tick) )
 
 method tick
   println( "The game is being updated." )
</pre>
<p><br />
</p>
<a name="Introspection" id="Introspection"></a><h3> <span class="mw-headline"> Introspection </span></h3>
<ul><li> Added some compiler-side (instead of runtime) support for introspection (aka reflection) back to Slag.
</li><li> Added a new class qualifier <i>runtime</i>.  A "runtime" class causes the compiler to generate extra runtime type information.  Details are as follows:
</li></ul>
<dl><dd><ul><li> Any class that extends a <i>runtime</i> class is also a <i>runtime</i> class.
</li><li> For every <i>runtime</i> class e.g. "Wall" there exists a class RuntimeTypeWall that extends RuntimeType.  Calling <i>runtime_type()</i> on a Wall() object will return a reference to RuntimeTypeWall, as will calling Runtime[Wall] or Runtime["Wall"].
</li><li> On any given RuntimeType you can call <i>name()</i> (which returns the same thing as <i>Object::type_name()</i>) and <i>create_instance().Object</i>, which creates an instance of that type.
</li><li> You can also call Runtime.create("ClassName") to create an object of class "ClassName".  
</li><li> Runtime classes are very useful for creating objects from data files.
</li><li> Example:
</li></ul>
</dd></dl>
<pre> runtime class Fruit();
 class Strawberry( Real64 tastiness )&nbsp;: Fruit;
 ...
 local var berry = Runtime.create("Strawberry") as Strawberry
 if (berry?)
   berry.init( 0.8 )   # Call the "regular" initializer
 else
   println( //No such class "Strawberry".// )
 endIf
</pre>
<dl><dd><dl><dd> Note that a default <i>init()</i> method will be created for any <i>runtime</i> class that doesn't have one already, so in the example above two different initializers are called - the default <i>init()</i> and the regular <i>init(Real64)</i>.
</dd></dl>
</dd></dl>
<ul><li> Every RuntimeType has a list of base_type_names:String[] and a list of base_types[]:RuntimeType.  Both include direct and indirect types.  <i>base_type_names</i> includes both <i>runtime</i> types and other types, while <i>base_types</i> only includes <i>runtime</i> types.
</li><li> If class Actor extends Entity, then Runtime[Actor].instance_of(Runtime[Entity]) == true and Runtime[Actor].instance_of("Object") == true.
</li></ul>
<a name="Timer" id="Timer"></a><h3> <span class="mw-headline"> Timer </span></h3>
<p>The Plasmacore Timer class has been revamped to use delegate methods.  By example:
</p>
<pre> class TimeTest
   PROPERTIES
     seconds&nbsp;: Int32
 
   METHODS
     method init
       Timer.schedule( delegate(on_interval), 60 )
         # Call on_interval() once every second
     
     method on_interval
       println( "tick" )
       ++seconds
       if (seconds == 5)
         # Cancel after 5 seconds
         Timer.cancel( this )
       endIf
 endClass
</pre>
<p><br />
</p>
<a name="Linux_Platform_Defunct" id="Linux_Platform_Defunct"></a><h3> <span class="mw-headline"> Linux Platform Defunct </span></h3>
<ul><li> The latest version of Ubuntu Linux ("Natty") has removed the Audiere library that Linux Plasmacore depends on, effectively breaking Linux Plasmacore.  Linux Plasmacore is sadly defunct for the time being - until we can spare the time to fix it (or we find proof that anyone is actually <i>using</i> Linux Plasmacore).
</li></ul>
<a name="Miscellaneous" id="Miscellaneous"></a><h3> <span class="mw-headline"> Miscellaneous </span></h3>
<ul><li> Key events are fixed - they were inadvertently broken in v3.4.
</li><li> Changed HashTable <i>get()</i> to return "null", "0" or "false" for a non-existent element instead of throwing a NoSuchElement error.  This makes an initial call to <i>contains()</i> optional in many cases and is more efficient in general.
</li><li> Modified parser so that the expression Int64(literal_int32) produces positive Int64 values for literal values that would be negative as an Int32.  For example, Int64(0xffffffff) now results in 2147483647 instead of -1.
</li><li> Added the keyword <i>ThisType</i> that resolves to the current class type.  For example, if you're in class Apple and you write "return ThisType()" you'll be returning a new Apple object.
</li><li> Renamed the Task property <i>active</i> to be <i>task_active</i> instead to avoid common naming conflicts with extended Tasks.
</li><li> Fixed scope bug with class methods - if Orange extends Fruit and both classes define a class method <i>create()</i>, then directly calling "Orange.create()" could mistakenly call "Fruit.create()" depending on the order that classes were defined in.
</li></ul>
<a name="Previous_Versions" id="Previous_Versions"></a><h2> <span class="mw-headline"> Previous Versions </span></h2>
<ul><li> <a href="plasmacore_v31.html" title="Plasmacore v3.4">Plasmacore_v3.4</a>
</li><li> <a href="plasmacore_v32.html" title="Plasmacore v3.3">Plasmacore_v3.3</a>
</li><li> <a href="plasmacore_v33.html" title="Plasmacore v3.2">Plasmacore_v3.2</a>
</li><li> <a href="plasmacore_v34.html" title="Plasmacore v3.1">Plasmacore_v3.1</a>
</li><li> <a href="plasmacore_v35.html" title="Plasmacore v3.0">Plasmacore_v3.0</a>
</li></ul>

<!-- 
NewPP limit report
Preprocessor node count: 10/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key pw_mediawiki_user:pcache:idhash:144-0!1!0!!en!2!edit=0 and timestamp 20120628081642 -->
<div class="printfooter">
Retrieved from "<a href="">http://www.plasmaworks.com/wiki/index.php/Plasmacore_v3.5</a>"</div>
						<!-- end content --><div class="visualClear"></div></div></div></div>
    <div id="column-one">
      <div id="p-cactions" class="portlet"></div>
      <div class="portlet" id="p-personal"></div>
      <div class="portlet" id="p-logo"></div>
      <div class="portlet" id="p-nav">
  
      </div>
      <div id="p-search" class="portlet"></div>
      <div class="portlet" id="p-tb"></div>
    </div>
    <!-- end left column -->
  <!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footerHacked">
				<ul id="f-list">
					<li id="lastmod"> This page was last modified on 19 June 2011, at 07:16.</li>
					<li id="viewcount">This page has been accessed 1,282 times.</li>
					<li id="privacy"><a href="plasmaworks_privacy_policy.html" title="Plasmaworks:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="plasmaworks_about.html" title="Plasmaworks:About">About Plasmaworks</a></li>
					<li id="disclaimer"><a href="plasmaworks_general_disclaimer.html" title="Plasmaworks:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.251 secs. --><br></body></html>
