<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Content generated by Mediawiki and mw2html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15.1" />
		<meta name="keywords" content="Plasmacore:Images" />
		<link rel="shortcut icon" href="http://plasmaworks.com/sites/default/files/sky_favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Plasmaworks (en)" />
		<link rel="alternate" type="application/rss+xml" title="Plasmaworks RSS Feed" href="" />
		<link rel="alternate" type="application/atom+xml" title="Plasmaworks Atom Feed" href="" />
		<title>Plasmacore:Images - Plasmaworks</title>
		<link rel="stylesheet" href="shared.css" type="text/css" media="screen" />
		<link rel="stylesheet" href="commonprint.css" type="text/css" media="print" />
		<link rel="stylesheet" href="main.css" type="text/css" media="screen" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="ie50fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="ie55fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="ie60fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="ie70fixes.css" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="" type="text/css" />
		<link rel="stylesheet" href="" type="text/css" media="print" />
		<link rel="stylesheet" href="" type="text/css" />
		<link rel="stylesheet" href="" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="iefixes.js_207"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/wiki/skins";
		var wgArticlePath = "/wiki/index.php/$1";
		var wgScriptPath = "/wiki";
		var wgScript = "/wiki/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://www.plasmaworks.com";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Plasmacore:Images";
		var wgTitle = "Plasmacore:Images";
		var wgAction = "view";
		var wgArticleId = "55";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 851;
		var wgVersion = "1.15.1";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="wikibits.js_207"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="ajax.js_207"></script>
		<script type="text/javascript" src=""><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Plasmacore_Images skin-monobook">
	<div id="globalWrapperHacked">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">Plasmacore:Images</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Plasmaworks</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Organization"><span class="tocnumber">1</span> <span class="toctext">Organization</span></a></li>
<li class="toclevel-1"><a href="#Core_Image_Classes"><span class="tocnumber">2</span> <span class="toctext">Core Image Classes</span></a></li>
<li class="toclevel-1"><a href="#Image_Sheet_System"><span class="tocnumber">3</span> <span class="toctext">Image Sheet System</span></a>
<ul>
<li class="toclevel-2"><a href="#Overview"><span class="tocnumber">3.1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-2"><a href="#Example"><span class="tocnumber">3.2</span> <span class="toctext">Example</span></a></li>
</ul>
</li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Organization" id="Organization"></a><h2> <span class="mw-headline"> Organization </span></h2>
<ul><li> Place PNG and JPG images in the "images/" folder of your project.
</li><li> Your images are automatically arranged on image sheets at compile time.  See <a href="#Image_Sheet_System" title="">#Image Sheet System</a>, below, for more information.
</li><li> Edit data/image_manifest.txt to customize how images are grouped, to specify that an image is a font strip, and to automatically split tile sheets into separate images.
</li></ul>
<p><br />
</p>
<a name="Core_Image_Classes" id="Core_Image_Classes"></a><h2> <span class="mw-headline"> Core Image Classes </span></h2>
<ul><li> Primarily you'll use class Image, which loads an image as a hardware-accelerated texture that can be quickly drawn, scaled, and rotated.
</li></ul>
<ul><li> Use CompositeImage to manage splash screens and large background images.  Composite images are automatically broken up into 256x256 pixel chunks that easily fit on image sheets.
</li></ul>
<ul><li> You can create an extended CompositeImage class and override the draw_content() method to easily rotate and scale an entire batch of drawing operations.
</li></ul>
<ul><li> An OffscreenBuffer may be rendered to and then used as a typical image.
</li></ul>
<ul><li> Sometimes you'll want to use class Bitmap, which loads an images as a software array of Color pixel values to allow for image preprocessing.  Bitmap objects may be easily turned into Image objects ("Image(bmp)").
</li></ul>
<ul><li> Type "gogo doc Bitmap" or "gogo doc Image::draw" (etc.) for documentation.
</li></ul>
<a name="Image_Sheet_System" id="Image_Sheet_System"></a><h2> <span class="mw-headline"> Image Sheet System </span></h2>
<a name="Overview" id="Overview"></a><h3> <span class="mw-headline"> Overview </span></h3>
<ul><li> At a low level, loading images individually results in generally poor performance due to per-image overhead in several areas: load time, memory, and switching textures during rendering.
</li><li> To work around this we can use <i>image sheets</i> (aka texture sheets or texture atlases), which means combining numerous small images together on fewer, larger images.
</li><li> Plasmacore has an automatic, mostly transparent image sheet system.
</li><li> Every time you "gogo build" or "gogo compile":
</li></ul>
<dl><dd><ol><li> The file "data/image_manifest.txt" is automatically updated to reflect new or deleted images contained in the "images" folder.
</li><li> Based on the contents of image_manifest.txt, image sheets are compiled from individual images and placed in "build/platform/images".
</li></ol>
</dd></dl>
<ul><li> You'll want to edit image_manifest.txt to define categories (to ensure certain images are placed on the same texture sheet) and to have the image sheet generator automatically split some images into tiles.  image_manifest.txt contains a header comment that describes all the options.
</li><li> Here's the general work flow:
</li></ul>
<dl><dd><ol><li> Place a new image in the images/ folder.
</li><li> Run "gogo compile".
</li><li> Edit "data/image_manifest.txt".  The new image filename will be there.  Place the filename under a desired category and/or add one of several options for how the image should be handled.
</li><li> In your game, load the image with "Image(original_filename)", "CompositeImage(original_filename)", etc.
</li></ol>
</dd></dl>
<ul><li> You can have per-platform image manifests using the "platform-x" and "platform-not-x" folder name system - just copy your original manifest into the desired location to begin.  For example, compiling for "ios" would look for image manifests in the following order (the folder names are just examples) and use the first one that existed.
</li></ul>
<dl><dd><ol><li> data/platform-ios-android/image_manifest.txt
</li><li> data/platform-not-windows/image_manifest.txt
</li><li> data/image_manifest.txt
</li></ol>
</dd></dl>
<a name="Example" id="Example"></a><h3> <span class="mw-headline"> Example </span></h3>
<p>Say our art consists of:
</p>
<ul><li> "actor.png" containing 4 rows of 5 frames each, arranged on an even grid
</li><li> "grass.png" containing 8 variations of a grass tile
</li><li> "font_game.png" containing a proportional font definition
</li><li> "cursor.png" containing a mouse cursor image
</li><li> "background.png" containing a background image the game is drawn over.
</li><li> "splash.png" containing a full-screen logo.
</li></ul>
<p>We put those all in the images folder and "gogo compile" the game.  "data/image_manifest.txt" would now contain something like the following (it would list some other details about each image on the line(s) following the image definition but you can ignore those - those are automatically regenerated on every compile):
</p>
<pre> [category standalone]
 "font_game.png"
   # The font image is too wide to fit on a 512x512 image sheet so it's placed
   # in the "standalone" category.
 
 [category general]
 "actor.png"
 "grass.png"
 "cursor.png"
 "background.png"
 "splash.png"
</pre>
<p>At this point:
</p>
<ul><li><ul><li> build/platform/images contains "font_game.png" and one or more "image_sheet_general_X.png" (where X is 0, 1, 2...).
</li><li> The splash screen is mixed in with the actor, etc.
</li><li> You could load Image("font_game"), Image("actors"), etc. and they'd be loaded as the original images.
</li></ul>
</li></ul>
<p>Let's manually reorganize things to be optimal.  We'd edit the file to look like this:
</p>
<pre> [category standalone]
 "splash.png"
   # Only loaded once so let's not bother to put it on an image sheet.
 
 [category permanent]
 # Anything in category permanent is kept when you call ImageManager.release_all().
 "cursor.png"
   # Load as Image("cursor")
 
 "font_game.png" font
   # Load this one as Font("font_game").
 
 [category gameplay]
 "background.png" composite
   # breaks the bg up into chunks that are easier to arrange
   # Load as CompositeImage("background")
 
 "actor.png" split 5x4
   # Splits the actor into 20 frames.  Load as Image[]("actor").
 
 "grass.png" split 8x1
   # Splits the grass into 8 frames.  Load as Image[]("grass").
</pre>
<p>Run "gogo compile" one more time and take a look in the build/platform/images folder.  You'll see "splash.png", "image_sheet_permanent_0.png", and "image_sheet_gameplay_0.png".
</p>
<!-- 
NewPP limit report
Preprocessor node count: 6/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key pw_mediawiki_user:pcache:idhash:55-0!1!0!!en!2!edit=0 and timestamp 20120628114305 -->
<div class="printfooter">
Retrieved from "<a href="">http://www.plasmaworks.com/wiki/index.php/Plasmacore:Images</a>"</div>
						<!-- end content --><div class="visualClear"></div></div></div></div>
    <div id="column-one">
      <div id="p-cactions" class="portlet"></div>
      <div class="portlet" id="p-personal"></div>
      <div class="portlet" id="p-logo"></div>
      <div class="portlet" id="p-nav">
  
      </div>
      <div id="p-search" class="portlet"></div>
      <div class="portlet" id="p-tb"></div>
    </div>
    <!-- end left column -->
  <!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footerHacked">
				<ul id="f-list">
					<li id="lastmod"> This page was last modified on 2 February 2011, at 20:49.</li>
					<li id="viewcount">This page has been accessed 1,821 times.</li>
					<li id="privacy"><a href="plasmaworks_privacy_policy.html" title="Plasmaworks:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="plasmaworks_about.html" title="Plasmaworks:About">About Plasmaworks</a></li>
					<li id="disclaimer"><a href="plasmaworks_general_disclaimer.html" title="Plasmaworks:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.245 secs. --><br></body></html>
