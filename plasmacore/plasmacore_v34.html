<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Content generated by Mediawiki and mw2html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15.1" />
		<meta name="keywords" content="Plasmacore v3.1,Double Dispatch,Plasmacore:Images,Plasmacore v3.0" />
		<link rel="shortcut icon" href="http://plasmaworks.com/sites/default/files/sky_favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Plasmaworks (en)" />
		<link rel="alternate" type="application/rss+xml" title="Plasmaworks RSS Feed" href="" />
		<link rel="alternate" type="application/atom+xml" title="Plasmaworks Atom Feed" href="" />
		<title>Plasmacore v3.1 - Plasmaworks</title>
		<link rel="stylesheet" href="shared.css" type="text/css" media="screen" />
		<link rel="stylesheet" href="commonprint.css" type="text/css" media="print" />
		<link rel="stylesheet" href="main.css" type="text/css" media="screen" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="ie50fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="ie55fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="ie60fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="ie70fixes.css" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="" type="text/css" />
		<link rel="stylesheet" href="" type="text/css" media="print" />
		<link rel="stylesheet" href="" type="text/css" />
		<link rel="stylesheet" href="" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="iefixes.js_207"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/wiki/skins";
		var wgArticlePath = "/wiki/index.php/$1";
		var wgScriptPath = "/wiki";
		var wgScript = "/wiki/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://www.plasmaworks.com";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Plasmacore_v3.1";
		var wgTitle = "Plasmacore v3.1";
		var wgAction = "view";
		var wgArticleId = "124";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 1053;
		var wgVersion = "1.15.1";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="wikibits.js_207"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="ajax.js_207"></script>
		<script type="text/javascript" src=""><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Plasmacore_v3_1 skin-monobook">
	<div id="globalWrapperHacked">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">Plasmacore v3.1</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Plasmaworks</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Download"><span class="tocnumber">1</span> <span class="toctext">Download</span></a></li>
<li class="toclevel-1"><a href="#3.1_Overview"><span class="tocnumber">2</span> <span class="toctext">3.1 Overview</span></a></li>
<li class="toclevel-1"><a href="#Change_Log_for_3.1.7_.28November_2.2C_2010.29"><span class="tocnumber">3</span> <span class="toctext">Change Log for 3.1.7 (November 2, 2010)</span></a></li>
<li class="toclevel-1"><a href="#Change_Log_for_3.1.6_.28October_10.2C_2010.29"><span class="tocnumber">4</span> <span class="toctext">Change Log for 3.1.6 (October 10, 2010)</span></a></li>
<li class="toclevel-1"><a href="#Change_Log_for_3.1.5_.28September_2.2C_2010.29"><span class="tocnumber">5</span> <span class="toctext">Change Log for 3.1.5 (September 2, 2010)</span></a></li>
<li class="toclevel-1"><a href="#Change_Log_for_3.1.4_.28August_26.2C_2010.29"><span class="tocnumber">6</span> <span class="toctext">Change Log for 3.1.4 (August 26, 2010)</span></a></li>
<li class="toclevel-1"><a href="#Change_Log_for_3.1.3_.28August_22.2C_2010.29"><span class="tocnumber">7</span> <span class="toctext">Change Log for 3.1.3 (August 22, 2010)</span></a></li>
<li class="toclevel-1"><a href="#Change_Log_for_3.1.2_.28August_18.2C_2010.29"><span class="tocnumber">8</span> <span class="toctext">Change Log for 3.1.2 (August 18, 2010)</span></a></li>
<li class="toclevel-1"><a href="#Change_Log_for_3.1.1_.28August_14.2C_2010.29"><span class="tocnumber">9</span> <span class="toctext">Change Log for 3.1.1 (August 14, 2010)</span></a></li>
<li class="toclevel-1"><a href="#Change_Log_for_3.1.0_.28July_15.2C_2010.29"><span class="tocnumber">10</span> <span class="toctext">Change Log for 3.1.0 (July 15, 2010)</span></a></li>
<li class="toclevel-1"><a href="#Previous_Versions"><span class="tocnumber">11</span> <span class="toctext">Previous Versions</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Download" id="Download"></a><h2> <span class="mw-headline"> Download </span></h2>
<ul><li> <a href="plasmacore_3.1.7.zip" class="external text" title="http://www.plasmaworks.com/files/plasmacore/archive/plasmacore-3.1.7.zip" rel="nofollow">Plasmacore v3.1.7</a> (2010.11.02, Windows/Mac/iPhone/iPad/Android)
</li></ul>
<ul><li> To start a new project, unzip the file above, open in a command prompt in the new_project folder, and type:
</li></ul>
<dl><dd><ul><li> Windows:
</li></ul>
</dd></dl>
<pre> gogo build
</pre>
<dl><dd><ul><li> Mac:
</li></ul>
</dd></dl>
<pre> chmod +x gogo
 ./gogo build
</pre>
<ul><li> To upgrade an existing 3.0 project, run "gogo upgrade" once to upgrade the core module, run "gogo" to finish the install, and then run "gogo upgrade" once more time to upgrade the auxiliary modules.
</li></ul>
<a name="3.1_Overview" id="3.1_Overview"></a><h2> <span class="mw-headline"> 3.1 Overview </span></h2>
<ul><li> Image system is revamped to support automatic generation of texture sheets at compile time.  This allows for faster loading and allows sprites to be kept as numerous small images instead of sprite sheets if desired.  This is totally transparent at runtime and removes caveats from earlier versions - you can now create an Image("pix.png") as many times as you like and the texture memory will only be loaded once.  See the Change Log below for more details.
</li></ul>
<ul><li> ENUMERATE sections make it easy to define constant integers with class scope.
</li></ul>
<ul><li> Refined Android platform.
</li></ul>
<ul><li> More details on these and other changes are detailed in the sections below.
</li></ul>
<p><br />
</p>
<a name="Change_Log_for_3.1.7_.28November_2.2C_2010.29" id="Change_Log_for_3.1.7_.28November_2.2C_2010.29"></a><h2> <span class="mw-headline"> Change Log for 3.1.7 (November 2, 2010) </span></h2>
<ul><li> Fixed a cross-compile error relating to changing the implementation of <i>pi</i> in 3.1.6.
</li></ul>
<ul><li> Added call to the Plasmacore exit request handler when the iPhone version exists (was missing since Plasmacore v3.0).
</li></ul>
<ul><li> Updated default iPhone Xcode project to use latest SDK targets and avoid "Base SDK Missing" error.
</li></ul>
<ul><li> Changed the Android build to copy the default Android-vm.mk and Android-xcom.mk build files into the platforms/android/jni directory instead of using them directly from the defaults/ directory.  If you make custom changes to those files (such as linking in custom C++ files), they won't be overwritten when you upgrade to a new version of Plasmacore.
</li></ul>
<a name="Change_Log_for_3.1.6_.28October_10.2C_2010.29" id="Change_Log_for_3.1.6_.28October_10.2C_2010.29"></a><h2> <span class="mw-headline"> Change Log for 3.1.6 (October 10, 2010) </span></h2>
<ul><li> Changed "pi" from a global variable of type Radians to a compiler constant of type Real64.
</li></ul>
<ul><li> Added Box::at(Real64,Real64).Vector2 and Box::at(Vector2) that returns a relative position within the box, with arguments (0,0) giving the top-left of the box, (1,1) giving the bottom-right, and so on.
</li></ul>
<ul><li> Added convenience methods to help determine event types.  For a mouse event, "if (e.type == button_press)" becomes "if (e.is_button_press)".  For mouse button and key presses you can also pass in an optional mouse button index, keycode, or unicode Char value and the result will only be true if the index/key matches.  For example: "if (e.is_button_press(1))" will be true if the event is a button press with button number 1.
</li></ul>
<ul><li> Renamed script.slag base class "Command" to "Cmd" since it's now used as a return type from execute() and has to be typed more often.
</li></ul>
<ul><li> Added Script::push(Cmd) that inserts its argument to be the first command in the script followed by any previously existing commands.
</li></ul>
<ul><li> Added Cmd::chain(Cmd).Cmd that schedules its argument to happen after any other commands in the target's command chain.
</li></ul>
<ul><li> Added aspect UniqueHash to the standard library.  If you incorporate UniqueHash in a class, hash_code() will be defined to return a unique identifier.  This is an easy way of adapting custom classes to function as hash table keys.
</li></ul>
<ul><li> Plasmacore's ExitRequestHandler object is now correctly invoked when an Android app pauses or terminates.
</li></ul>
<ul><li> Improved automatic Screen fades to completely fade out before activating the next screen.  Before, when a new screen loaded some new images, the old screen would be left almost but not completely faded out.
</li></ul>
<ul><li> Improved image layout algorithm for compiled image sheet generation.
</li></ul>
<ul><li> Pressing "Back" (ESC) now exits the program by default during resource loading in the Android launcher.
</li></ul>
<ul><li> Fixed compiler loophole that wouldn't detect an overridden method having an incompatible return type with the base method in some situations.
</li></ul>
<ul><li> Fixed error in HeapSort&lt;&lt;$DataType&gt;&gt;.sort(list,order) - $DataType was hard-coded to String.
</li></ul>
<ul><li> Fixed error in script.slag's CmdInterval.
</li></ul>
<ul><li> Fixed Bitmap::split_into_image_tiles(w,h).Image[] which had been broken since Plasmacore stopped using dynamic texture sheets.
</li></ul>
<ul><li> Fixed an error in web.slag's HTTPDownloader class ("NULL" should have been "null").
</li></ul>
<ul><li> Removed a Plasmaworks logo art file that had somehow snuck into the android "defaults" folder.
</li></ul>
<ul><li> When you cross-compile for Android, the "game.etc" file from the VM build is now deleted from the assets folder to reduce space.
</li></ul>
<a name="Change_Log_for_3.1.5_.28September_2.2C_2010.29" id="Change_Log_for_3.1.5_.28September_2.2C_2010.29"></a><h2> <span class="mw-headline"> Change Log for 3.1.5 (September 2, 2010) </span></h2>
<ul><li> Added xv() and yv() methods to Vector2 that return only the x or only the y components <i>as a Vector2</i>.  Examples:
</li></ul>
<pre> Vector2(4,5).xv -&gt; Vector2(4,0)
 Vector2(4,5).yv -&gt; Vector2(0,5)
</pre>
<ul><li> Added Font::draw(String,Real64,Real64) as a convenience call to Font::draw(String,Vector2).
</li></ul>
<ul><li> Refactored the Script system a bit to make it more elegant and flexible:
<ul><li> Command::execute().Logical has been changed to be Command::execute().Command.
</li><li> Instead of extended Command objects returning "true" to repeat the command again next time for "false" to advance to the next command, Command objects now return "this" to repeat the command again or "next" to advance to the next command.
</li><li> Alternately a command can return any other arbitrary command as the next command.  This allows decision nodes to be added to a script that can decide what will come next once they're actually executed.
</li><li> If you don't want retrofit an existing project, just keep the old script.slag around under a different name.
</li></ul>
</li></ul>
<ul><li> Fixed a bug that would put Android into a bad state if there was a task switch during initial resource downloading.
</li></ul>
<ul><li> Fixed web.slag's XMLParser to call on_xml_finished_element().
</li></ul>
<ul><li> Fixed an infinite loop in Scanner::scan_String when there's neither a closing quote nor a newline.
</li></ul>
<ul><li> Removed a debug log message that was accidentally left in Windows Plasmacore.
</li></ul>
<a name="Change_Log_for_3.1.4_.28August_26.2C_2010.29" id="Change_Log_for_3.1.4_.28August_26.2C_2010.29"></a><h2> <span class="mw-headline"> Change Log for 3.1.4 (August 26, 2010) </span></h2>
<ul><li> Fixed the image compiler to behave normally on non-font files with the word "font" in the filename.  If you're looking to fix this before the release of 3.1.4, edit libraries/slag/image_compiler.slag line 373 to be: "local var is_font = character_count?"
</li></ul>
<ul><li> Changed behavior of Screen::chain(Screen other) to append the other screen at the end of any screens already chained instead of inserting it directly after the current screen.  This allows the common use case of "screen1.chain( screen2.chain(screen3) )" to work.
</li></ul>
<ul><li> Fixed Offscreen Buffers to work with Droid X (the device would lock up on resume).
</li></ul>
<ul><li> Fixed the missing "state" property in class AndroidLaunch.
</li></ul>
<ul><li> Fixed Android Plasmacore to actually release sounds when you call Sound::release().
</li></ul>
<a name="Change_Log_for_3.1.3_.28August_22.2C_2010.29" id="Change_Log_for_3.1.3_.28August_22.2C_2010.29"></a><h2> <span class="mw-headline"> Change Log for 3.1.3 (August 22, 2010) </span></h2>
<ul><li> Added inline documentation generation to the Slag compiler.  The "SlagDoc" for some classes still contains Wiki markup code; this will be removed over time in favor of plain text documentation.  Also note that you'll need to [include] the nonstandard libraries before you can get documentation on their classes.  Examples of using the inline documentation:
</li></ul>
<pre> gogo doc Screen
 gogo doc String::replace
 gogo doc "HashTable&lt;&lt;String,Int32&gt;&gt;"
</pre>
<ul><li> Added HTTPDownloader to web.slag.  This provides a simple, easy way to asynchronously download data over HTTP.  Example:
</li></ul>
<pre> [include "web.slag"]
 class Downloader&nbsp;: HTTPDownloadListener
   method init:
     HTTPDownloader("www.somesite.com:8000/index.html", this )
 
   method on_download_finished( HTTPDownloader downloader ):
     if (downloader.data?)
       println( "index.html:\n" + String(downloader.data) )
     else
       println( "Error downloading index.html" )
     endIf
 endClass
</pre>
<ul><li> Added Scanner::scan_remaining().String which returns all remaining characters as a single String.
</li></ul>
<ul><li> Added Image::draw_flash(Vector2 position, Int32 flash_alpha) and Image::draw_flash(Int32 flash_alpha) that are equivalent to Image::draw(position,Color(255,255,255,flash_alpha)) and Image::draw(Color(255,255,255,flash_alpha)) respectively.
</li></ul>
<ul><li> Added String::begins_with(Char).Logical and String::ends_with(Char).Logical in addition to the existing methods accepting String parameters.
</li></ul>
<ul><li> Fixed the image sheet compiler to recompile images when a source image has been modified, not only when data/image_manifest.txt has been changed.
</li></ul>
<ul><li> Removed the state:Int32 Screen property introduced in v3.0.1.  This avoids conflict and is easy to declare as needed.
</li></ul>
<ul><li> Renamed Screen::active, fade_state, etc. to Screen::screen_active, screen_fade_state, etc. to avoid name conflicts.
</li></ul>
<ul><li> Changed the invocation of Screen::on_images_lost() to be called on all screens in the Screen stack, not just the active screen.
</li></ul>
<a name="Change_Log_for_3.1.2_.28August_18.2C_2010.29" id="Change_Log_for_3.1.2_.28August_18.2C_2010.29"></a><h2> <span class="mw-headline"> Change Log for 3.1.2 (August 18, 2010) </span></h2>
<ul><li> Fixed update cycle timing issues on Android.
</li></ul>
<ul><li> Changed gogo to auto-update existing modules after Plasmacore has been updated.
<ul><li> Previously you had to type "gogo upgrade" to upgrade Plasmacore, "gogo" to finish installing, "gogo upgrade" <i>again</i> to upgrade the modules, and "gogo" a final time to finish installing them.
</li><li> Now you type "gogo upgrade" to upgrade Plasmacore, "gogo" to finish installing <b>and</b> automatically check for updated modules, and "gogo" a final time to finish installing updated modules if need be.
</li></ul>
</li></ul>
<ul><li> Fixed DataFile::to_bytes().Byte[] to work correctly.
</li></ul>
<ul><li> The Android compile now compiles the image sheets as well.
</li></ul>
<ul><li> Enabled JavaScript for Android WebView.
</li></ul>
<a name="Change_Log_for_3.1.1_.28August_14.2C_2010.29" id="Change_Log_for_3.1.1_.28August_14.2C_2010.29"></a><h2> <span class="mw-headline"> Change Log for 3.1.1 (August 14, 2010) </span></h2>
<ul><li> Added a new class member category: ENUMERATE.  Enumerated values are simple integer property definitions with class scope.  By example:
</li></ul>
<pre> class OldCode
   CLASS_PROPERTIES
     red=0, yellow=1, green=2, disabled=100, offline=101&nbsp;: Int32
   ...
 endClass
 
 class NewCode
   ENUMERATE
     red, yellow, green, disabled=100, offline
   ...
 endClass
</pre>
<ul><li><ul><li> The first id is mapped to zero unless otherwise specified.
</li><li> Currently only simple integers may be used in assignments.
</li></ul>
</li></ul>
<ul><li> Added an integer <i>state</i> variable to base class Screen.  Along with ENUMERATE to define states, this creates an easy way to manage screen state.
</li></ul>
<ul><li> Added new compiler directive [requisite all].  [requisite all] causes all classes and methods defined in the remainder of the <b>current</b> file to have the <i>requisite</i> qualifier, which prevents them from being culled by the compiler if they're never directly instantiated or called in code.  This is useful (and only useful) when you're using introspection to create objects.
</li></ul>
<ul><li> Removed Script::update().Logical as an alias for Script::update().Logical in order to reserve update() as a hassle-free overrideable method for custom extended Commands (e.g. see next item).
</li></ul>
<ul><li> Added the extensible CmdInterval to script.slag.  Extend it, call prior.init(seconds), and override update() if desired.  update() will automatically be called until the time has elapsed.  Within update() you can call progress() and it will return a value 0.0 &lt;= progress() &lt; 1.0.
</li></ul>
<ul><li> Added Image::draw_flash(Color) and Image::draw_flash(Vector2,Color).  These convenience calls will draw the image twice: once normally, then once in the solid color specified.  Adjust the color's alpha over time to fade the flash effect in or out. Useful for button flashes and showing enemies taking damage.
</li></ul>
<ul><li> Changed image sheet compile system to place images in e.g. build/mac/images instead of images/compiled.
</li></ul>
<ul><li> Added "gogo pngout" command to run pngout on all images in the build directory.
</li></ul>
<ul><li> Removed flexible and overly complicated Screen system back end (supporting numerous simultaneous Screen stacks) in favor of a simpler system.  Application.screen is now the primary screen stack and Application.overlay is a second screen stack drawn on top of the first, if it exists.  So to push a new screen on the stack without having a reference to the original, just write: "Application.screen.push(MyNewScreen())".  Also removed Screen hide(), show(), and bring_to_front().
</li></ul>
<ul><li> All image handle values are now rounded-down to the nearest whole pixel.  This prevents odd-sized images (in the literal sense) from being blurry when drawn at whole pixel positions.
</li></ul>
<ul><li> Circle-to-Circle interesects() tests now operate on a "&lt;" instead of "&lt;=".  Two diameter-1.0 circles that are 1.0 distance away from each other will not count as intersecting.
</li></ul>
<ul><li> Abandoned newer auto-adjusting update/draw in favor of older "time debt" system.  The auto-adjusting would run at a fixed FPS and boost or drop to 30, 20, etc. fps as necessary.  However, that whole system was designed with Android in mind, and it turns out Android is just too irregular - the FPS changes constantly and gameplay is always slightly too fast or too slow.  The "time debt" system works on a frame by frame basis to catch up on updates before the next draw.  The variable "plasmacore.target_fps" is still supported for projects that compile the native code such as iPhone and Android.
</li></ul>
<ul><li> Changed Android to support NDK R4b instead of NDK3.  For existing projects, just install the new NDK and change the entry in local.properties to point to the new location.
</li></ul>
<ul><li> Moved image <i>position</i> property from class Image to base class GenericImage.  All GenericImage subclasses now support draw() with no parameters, which draws the image at its current position, as well as draw(pos) which sets the position and then draws the image.
</li></ul>
<ul><li> Image::bounding_box().Box now incoporates the image position and handle instead of the top_left corner always being (0,0).
</li></ul>
<ul><li> Fixed offscreen buffer drawing being messed up if Display.scale_to_fit() had been called.
</li></ul>
<ul><li> Fixed new image system bug where unused Composite Images accidentally release their component images.  In other words, if you made two CompositeImage objects out of the same parts, losing the reference to the first would cause the second to lose its images as well.
</li></ul>
<ul><li> Fixed OffscreenBuffer crashing on iPhone on instantiation.
</li></ul>
<ul><li> Fixed a compile-time bug and a load-time bug when using type "font" (opposed to "varfont") in the image manifest.
</li></ul>
<ul><li> Fixed bug in the ListOf&lt;&lt;DataType&gt;&gt; helper - when used with 3 dimensions, a single list was shared for all instances of the 3rd dimension.
</li></ul>
<ul><li> The behavior of Screen::on_activate() and Screen::on_resume() have been reverted to their 3.0 behavior - instead of calling both on_activate() and on_resume() the first time a screen is shown, on_activate() is called the first time a screen becomes active and on_resume() is called every time after.  Rationale: it's easier to call on_resume() from on_activate() than it is to track whether on_resume() is being called the first time or not.
</li></ul>
<a name="Change_Log_for_3.1.0_.28July_15.2C_2010.29" id="Change_Log_for_3.1.0_.28July_15.2C_2010.29"></a><h2> <span class="mw-headline"> Change Log for 3.1.0 (July 15, 2010) </span></h2>
<ul><li> Platforms with fixed resolutions (iPhone/iPad, Android) now ignore the display_size property in project.properties.  Display.size starts out with the actual display size (e.g. (768,1024) for iPad).  At the beginning of a program you can scale the display to act like a certain other size by calling Display.scale_to_fit(w,h).
</li></ul>
<ul><li> Added Line::intersection(Circle).Line and Circle::intersection(Line).Line intersecting line segment tests.
</li></ul>
<ul><li> Added Line::axis().Vector2.  Equivalent to (line.pt2 - line.pt1).
</li></ul>
<ul><li> Completely reworked image management back end.  This now requires a little bit of fiddling with a data file, but images will load much faster, there are no more fragmentation issues, and you won't need to change much in your code.
<ul><li> Dynamic texture sheets for individually loaded images are gone.
</li><li> Resource groups are gone.  You can adapt an old project that used resource groups by adding the following code to your project and switching calls to "ResourceManager.load(group)" to be "group.load".
</li></ul>
</li></ul>
<pre> underlying aspect ResourceGroup
   PROPERTIES
     index=1&nbsp;: Int32
   METHODS
     method init:
     method load:
       while (load_another) ++index 
 endAspect
 
 aspect ImageGroup&nbsp;: ResourceGroup;
 aspect SoundGroup&nbsp;: ResourceGroup;
</pre>
<ul><li><ul><li> Static texture sheets are now created when your program is compiled.  A data file "data/image_manifest.txt" will be created for you.  It will be automatically updated as images are added and removed from the images directory.  You can edit the file to specify how images are handled.  Full help is available in comments at the top of this file.
</li><li> Creating an Image("filename.png") automatically figures out what texture sheet the file is on and loads it in if its not already loaded.  Creating a second Image("samefilename.png") is now fine - it's fast and low-overhead.
</li><li> You can call ImageManager.release_all() to flush all texture sheets to recycle that memory for other images.  However, you don't have to manually reload images after a release - they'll be reloaded automatically when you try to draw them.
</li><li> You can no longer specify platform-specific files with an "images/windows" folder or an "images/mac" folder (etc.).  Similar functionality may be added back in later, and this still works with audio and data files.
</li><li> More info will be posted in the <a href="plasmacore_images.html" title="Plasmacore:Images">Plasmacore:Images</a> section when time permits.
</li></ul>
</li></ul>
<ul><li> Added a new Slag method qualifier: <i>propagated</i>.  A propagated method is automatically redefined in each class that inherits the method as if you had typed it in again (in particular, "this" references take on the new class type).  See <a href="double_dispatch.html#Double_Dispatch_with_.22propagated.22_methods" title="Double Dispatch">Double Dispatch with "propagated" methods</a> for an example.
</li></ul>
<ul><li> Totally revamped screen fade system.  Instead of trying to have separate Screens control the fade, a fade mechanism is now built into the Screen class itself.  Much easier to use!  Send Screen.fade_in/fade_out/fade_between as optional parameter to Screen.push(), pop(), replace_with(), and next().  Example:
</li></ul>
<pre> push( Credits(), Screen.fade_between )
 ...
 pop( Screen.fade_out )
</pre>
<ul><li> Changed Screen push(), replace_with(), and chain() to return the original screen (this) instead of the new screen.  This allows code like this to work:
</li></ul>
<pre> # Show Credits1 first, then when it calls next(), show Credits2.
 push( Credits1().chain( Credits2() ) )
</pre>
<ul><li> When a Screen is first shown, on_activate() is now followed by a call to on_resume().  Previously, on_resume() was not called on the first activation.
</li></ul>
<ul><li> Changed "gogo clean" to remove "build.etc" as well.
</li></ul>
<ul><li> Added Animation::create_player() as a simpler alternative to Animation::create_animated_image().
</li></ul>
<ul><li> Removed "entity.slag" from the standard distribution.  Details for those interested: the entity system was an experiment in making a robust general architecture for managing dynamically changing groups of game objects.  Over time the most useful feature of the entity system evolved into its own library: script.slag (which is still included).  What remains is not general-purpose enough to fit the roll of a straightforward code plug-in.  For example, a goal of the entity system was to automatically give every entity an update and a draw.  But just creating a simple map where entities must be drawn in a certain order and are allowed to move between cells means putting as much effort into working **around** the entity system as it would be to construct a system from scratch specific to a given game.
</li></ul>
<ul><li> In script.slag, removed Command::first().Logical for determining first-run commands and added a method Command::on_activate() that is called when a command is about to be executed for the first time.
</li></ul>
<ul><li> Added Handle constants center_left and center_right that are equivalent to left_center and right_center.  Now all of the position constants can be written as "vertical-pos_horizontal-pos".
</li></ul>
<ul><li> Changed the radius of Vector2::bounding_circle() from sqrt(0.5) to 0.  Since bounding shapes should be able to operate at any scale, having **any** radius for a single point is presumptuous.
</li></ul>
<ul><li> Renamed Vector2::is_on_line(Line,Real64) to Vector2::is_on(Line,Real64).
</li></ul>
<ul><li> Re-enabled "Display Link" for iPhone, iPad, where supported.  Presumably similar to vertical blank synchronization, this code had been commented out while debugging iPad software (prior to iPad release) and never uncommented.
</li></ul>
<ul><li> Fixed logic error in CmdWait in "script.slag".
</li></ul>
<ul><li> Fixed syntax errors in the subtraction of two Radians values ("RadiansManager.op-(Radians,Radians)").
</li></ul>
<ul><li> Fixed errors in script.slag's CmdGroup.
</li></ul>
<ul><li> An Animation's interval value is now interpreted correctly.
</li></ul>
<ul><li> Fixed a GC crash bug that would happen with interlinked clusters of objects of type RequiresCleanup.
</li></ul>
<ul><li> Fixed an compiler crash caused by certain hairy interdependent types.
</li></ul>
<a name="Previous_Versions" id="Previous_Versions"></a><h2> <span class="mw-headline"> Previous Versions </span></h2>
<ul><li> <a href="plasmacore_v35.html" title="Plasmacore v3.0">Plasmacore_v3.0</a>
</li></ul>

<!-- 
NewPP limit report
Preprocessor node count: 12/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key pw_mediawiki_user:pcache:idhash:124-0!1!0!!en!2!edit=0 and timestamp 20120628150448 -->
<div class="printfooter">
Retrieved from "<a href="">http://www.plasmaworks.com/wiki/index.php/Plasmacore_v3.1</a>"</div>
						<!-- end content --><div class="visualClear"></div></div></div></div>
    <div id="column-one">
      <div id="p-cactions" class="portlet"></div>
      <div class="portlet" id="p-personal"></div>
      <div class="portlet" id="p-logo"></div>
      <div class="portlet" id="p-nav">
  
      </div>
      <div id="p-search" class="portlet"></div>
      <div class="portlet" id="p-tb"></div>
    </div>
    <!-- end left column -->
  <!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footerHacked">
				<ul id="f-list">
					<li id="lastmod"> This page was last modified on 7 June 2011, at 20:48.</li>
					<li id="viewcount">This page has been accessed 3,727 times.</li>
					<li id="privacy"><a href="plasmaworks_privacy_policy.html" title="Plasmaworks:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="plasmaworks_about.html" title="Plasmaworks:About">About Plasmaworks</a></li>
					<li id="disclaimer"><a href="plasmaworks_general_disclaimer.html" title="Plasmaworks:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.253 secs. --><br></body></html>
