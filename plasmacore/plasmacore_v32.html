<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Content generated by Mediawiki and mw2html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15.1" />
		<meta name="keywords" content="Plasmacore v3.3,Plasmacore v3.0,Plasmacore v3.1,Plasmacore v3.2" />
		<link rel="shortcut icon" href="http://plasmaworks.com/sites/default/files/sky_favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Plasmaworks (en)" />
		<link rel="alternate" type="application/rss+xml" title="Plasmaworks RSS Feed" href="" />
		<link rel="alternate" type="application/atom+xml" title="Plasmaworks Atom Feed" href="" />
		<title>Plasmacore v3.3 - Plasmaworks</title>
		<link rel="stylesheet" href="shared.css" type="text/css" media="screen" />
		<link rel="stylesheet" href="commonprint.css" type="text/css" media="print" />
		<link rel="stylesheet" href="main.css" type="text/css" media="screen" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="ie50fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="ie55fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="ie60fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="ie70fixes.css" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="" type="text/css" />
		<link rel="stylesheet" href="" type="text/css" media="print" />
		<link rel="stylesheet" href="" type="text/css" />
		<link rel="stylesheet" href="" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="iefixes.js_207"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/wiki/skins";
		var wgArticlePath = "/wiki/index.php/$1";
		var wgScriptPath = "/wiki";
		var wgScript = "/wiki/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://www.plasmaworks.com";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Plasmacore_v3.3";
		var wgTitle = "Plasmacore v3.3";
		var wgAction = "view";
		var wgArticleId = "142";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 1054;
		var wgVersion = "1.15.1";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="wikibits.js_207"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="ajax.js_207"></script>
		<script type="text/javascript" src=""><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Plasmacore_v3_3 skin-monobook">
	<div id="globalWrapperHacked">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">Plasmacore v3.3</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Plasmaworks</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#3.3_Overview"><span class="tocnumber">1</span> <span class="toctext">3.3 Overview</span></a></li>
<li class="toclevel-1"><a href="#Download"><span class="tocnumber">2</span> <span class="toctext">Download</span></a></li>
<li class="toclevel-1"><a href="#Change_Log_for_3.3.2_.28May_18.2C_2011.29"><span class="tocnumber">3</span> <span class="toctext">Change Log for 3.3.2 (May 18, 2011)</span></a></li>
<li class="toclevel-1"><a href="#Change_Log_for_3.3.1_.28April_28.2C_2011.29"><span class="tocnumber">4</span> <span class="toctext">Change Log for 3.3.1 (April 28, 2011)</span></a></li>
<li class="toclevel-1"><a href="#Change_Log_for_3.3.0_.28April_2.2C_2011.29"><span class="tocnumber">5</span> <span class="toctext">Change Log for 3.3.0 (April 2, 2011)</span></a></li>
<li class="toclevel-1"><a href="#Previous_Versions"><span class="tocnumber">6</span> <span class="toctext">Previous Versions</span></a></li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="3.3_Overview" id="3.3_Overview"></a><h2> <span class="mw-headline"> 3.3 Overview </span></h2>
<ul><li> Cross-compiled C++ code is now twice as fast.  Garbage collection now potentially takes place in-between native calls into Slag code (on the update/draw cycle) instead of during Slag execution.
</li><li> Type Logical is now a Boolean (true,false) type rather than a Ternary (true,false,void) type.  The <i>void</i> value was rarely used and cluttered up cross-compiled code.
</li><li> Added <i>on_suspend()</i> and <i>on_deactivate()</i> Screen events.
</li><li> Added new EventHandler system that makes it easy to link in new bodies of code that respond to native events such as "update" and "draw".
</li></ul>
<p><br />
</p>
<a name="Download" id="Download"></a><h2> <span class="mw-headline"> Download </span></h2>
<ul><li> <a href="plasmacore_3.3.2.zip" class="external text" title="http://www.plasmaworks.com/files/plasmacore/archive/v/3.3.2/plasmacore-3.3.2.zip" rel="nofollow">Plasmacore v3.3.2</a> (2011.05.18, Windows/Mac/Linux/iPhone/iPad/Android/Windows Phone 7)
</li></ul>
<ul><li> To start a new project, unzip the file above, open in a command prompt in the new_project folder, and type:
</li></ul>
<dl><dd><ul><li> Windows:
</li></ul>
</dd></dl>
<pre> gogo build
</pre>
<dl><dd><ul><li> Mac, Linux:
</li></ul>
</dd></dl>
<pre> chmod +x gogo
 ./gogo build
</pre>
<ul><li> To upgrade an existing project, run "gogo upgrade" once to upgrade the core module, run "gogo" to finish the install, and then run "gogo upgrade" once more time to upgrade the auxiliary modules.
</li></ul>
<a name="Change_Log_for_3.3.2_.28May_18.2C_2011.29" id="Change_Log_for_3.3.2_.28May_18.2C_2011.29"></a><h2> <span class="mw-headline"> Change Log for 3.3.2 (May 18, 2011) </span></h2>
<ul><li> android.slag has been revamped.  It comes with the Android platform download and includes the following methods:
</li></ul>
<dl><dd><dl><dt> Android.memory_class().Int32
</dt><dd> This returns the memory cap in megabytes for each program on an Android device.  Older devices return 16 and generally struggle with games while newer devices return 24, 32, or more.
</dd></dl>
</dd></dl>
<dl><dd><dl><dt> Android.is_tablet().Logical
</dt><dd> Returns true if this Android device is a tablet.  The calculation is based on having a physical screen size of at least 6".
</dd></dl>
</dd></dl>
<ul><li> In the init() of your build.slag file you now can write:
</li></ul>
<pre> source_dirs.add( "somefoldername" )
</pre>
<dl><dd> This adds all the ".slag" files in the given folder to the list of source files when doing timestamp checks for conditional compiles.
</dd></dl>
<ul><li> Reimplemented System.catch_control_c(Logical) that has been missing since v3.2.
</li></ul>
<ul><li> When compiling for Android on Mac, the build system now looks for the newer "android-sdk-mac_86" folder (instead of the older "android-sdk-mac") when auto-configuring your build properties.
</li></ul>
<ul><li> Fixed System.device_id() to work for non-phone Android devices (like the Xoom tablet).
</li></ul>
<ul><li> Fixed class OffscreenBuffer that was broken for 3.3.1 and maybe 3.3.0.
</li></ul>
<ul><li> Fixed bug where Android builds weren't recursively copying resources out of images/, data/, and sounds/.
</li></ul>
<a name="Change_Log_for_3.3.1_.28April_28.2C_2011.29" id="Change_Log_for_3.3.1_.28April_28.2C_2011.29"></a><h2> <span class="mw-headline"> Change Log for 3.3.1 (April 28, 2011) </span></h2>
<ul><li> Class Screen now extends the new Component class.  You can add() child components to or remove() them from any other components; child components will arbitrarily receive calls to update(), draw(), and on(Key/Mouse/Acceleration/SystemEvent) when you call prior.update() in update() (etc.), and automatically receive calls to on_activate(), on_suspend(), on_resume(), on_deactivate(), and on_images_lost() with no <i>prior</i> call required.  For example, the following toy code uses components to set up a screen that draws "Click Anywhere" on top of a blue background and changes it to "Clicked!" on a green background after a mouse button press:
</li></ul>
<pre> class Test&nbsp;: Screen
   METHODS
     method init
       add( ColoredBG() )
       add( ClickMe() )
 endClass
 
 class ColoredBG()&nbsp;: Component
   PROPERTIES
     color=Color.blue&nbsp;: Color
 
   METHODS
     method draw
       Display.bounding_box.fill( color )
 
     method on( MouseEvent e )
       if (e.is_button_press) color = Color.green
 endClass
 
 class ClickMe()&nbsp;: Component
   PROPERTIES
     text="Click Anywhere"&nbsp;: String
 
   METHODS
     method draw
       SystemFont.handle = Handle.center
       SystemFont.draw( text, Display.center )
 
     method on( MouseEvent e )
       if (e.is_button_press) text = "Clicked!"
 endClass
</pre>
<ul><li> Fixed Windows mouse coordinates to be correct when the screen is scaled using Display::scale_to_fit().
</li></ul>
<ul><li> Scaled fonts now word-wrap correctly (changed the "w" width counter in Font::word_wrap() to be a Real64 instead of an Int32).
</li></ul>
<ul><li> Improved Script to handle both sequential and concurrent commands.  Cmd objects added with <i>add()</i> are executed sequentially, as before, while Cmd objects added with <i>attach()</i> are executed concurrently with other commands.
</li></ul>
<ul><li> Added Display.at(x_fraction,y_fraction) as a convenience method equivalent to Display.bounding_box.at(...).
</li></ul>
<ul><li> Changing an Image's <i>size</i> or <i>scale</i> now reapplies the handle position (so an image with Handle.center will still draw from the center after being scaled by 2).
</li></ul>
<ul><li> Numerous small Windows Phone 7 additions.
</li></ul>
<ul><li> Removed "SystemService" infrastructure.  This pre-dated the "Screen" architecture and can be wholly implemented with Screens and native calls.
</li></ul>
<a name="Change_Log_for_3.3.0_.28April_2.2C_2011.29" id="Change_Log_for_3.3.0_.28April_2.2C_2011.29"></a><h2> <span class="mw-headline"> Change Log for 3.3.0 (April 2, 2011) </span></h2>
<ul><li> Cross-compiled C++ code is now twice as fast.  Garbage collection now potentially takes place in-between native calls into Slag code (on the update/draw cycle) instead of during Slag execution.
</li></ul>
<ul><li> Added Screen::on_suspend() and Screen::on_deactivate() event handlers.  <i>on_suspend()</i> is called whenever a screen is about to become inactive and then <i>on_deactivate()</i> is called when a screen is about to become permanently replaced.  Examples (assuming <i>screen1</i> is the active screen):
</li></ul>
<table class="slagdoc">
<tr>
<th> Action
</th><th> Events
</th></tr>
<tr>
<td> screen1.push(screen2)
</td><td> screen1.on_suspend()
<p>screen2.on_activate()
</p>
</td></tr>
<tr>
<td> screen1.replace_with(screen2)
</td><td> screen1.on_suspend()
<p>screen1.on_deactivate()<br />
screen2.on_activate()
</p>
</td></tr>
<tr>
<td> screen2.pop
</td><td> screen2.on_suspend()
<p>screen2.on_deactivate()<br />
screen1.on_resume    # assuming screen1 is the prior screen
</p>
</td></tr></table>
<ul><li> Added class method Screen.current that returns the active screen (same as Application.screen).
</li></ul>
<ul><li> Native events "suspend", "resume", and "shut_down" are now dispatched to Slag-side code.  Slag-side handlers for native events have been improved.  For instance, this code prints trace messages on suspend, resume, and draw:
</li></ul>
<pre> EventHandler("suspend") with
   method on( Event e ): println("APP SUSPENDED")
 endWith
 
 EventHandler("resume") with
   method on( Event e ): println( "APP RESUMED" )
 endWith
 
 EventHandler("draw") with
   method handle_event
     println( "Before draw" )
     next_handler.handle_event
     println( "After draw" )
 endWith 
</pre>
<dl><dd> When you install a new EventHandler (by instantiating it), its <i>on_event()</i> is called before the <i>on_event()</i> of previously installed handlers.  If you need a different ordering, override <i>handle_event()</i> instead and call "next_handler.handle_event()" as desired.
</dd></dl>
<dl><dd> NOTE: the "shut_down" message is not reliably sent on mobile devices.
</dd></dl>
<ul><li> Added a project.properties value "RESOURCE_BASE_DIR" that can be used to specify which directory contains the data, images, media, and sounds subdirectories.  Useful for maintaining two versions of a project (e.g. paid and free) that use the same resources.
</li></ul>
<ul><li> Added a TextWriter as optional 3rd parameter to HTTPDownloader in web.slag.  If present, downloader will save the downloaded data to the given TextWriter and then close it instead of maintaining a Byte[] buffer.
</li></ul>
<ul><li> Added IOS.is_ipad().Logical check.
</li></ul>
<ul><li> Added class property VideoPlayer.game_music:Sound[].  If you add your game's music Sound(s) to this list, any playing sounds will be automatically paused and then resumed when a VideoPlayer plays.
</li></ul>
<ul><li> Added Font initializer init(filename,[mapping]) as the new standard initializer.  The previous standard initializer init(filename,[style],[mapping]) is now rarely useful due to font images being pre-compiled, but it remains in Plasmacore for backward compatibility.
</li></ul>
<ul><li> Changed Logical to be a two-value boolean type (true,false) instead of a three-value ternary type (true,false,void).  The "void" value was rarely used in practice and the ternary logical cluttered up cross-compiled code since other languages don't support ternary.  Literal values 'gt', 'lt', and 'eq' now resolve to integer constants 1, -1, and 0, and overridden "op&lt;&gt;()" methods must return one of those three values.
</li></ul>
<ul><li> Modified iOS video player to work properly in landscape mode.
</li></ul>
<ul><li> Modified Android video player to disable autorotate with phone orientation.  This is fixed automatically for new Android projects; for existing projects you'll need to edit "platforms/android/AndroidManifest.xml" and add android:screenOrientation="portrait" (or "landscape") as part of the .VideoPlayer activity tag - use the main activity tag above it as reference.
</li></ul>
<ul><li> Changed the value of Vector2.invalid (as returned from line intersection tests, etc.) to be Vector2(infinity,infinity) instead of Vector2(NaN,NaN) to make comparisons easier (infinity == infinity but NaN&nbsp;!= NaN).
</li></ul>
<ul><li> Fixed filename matching so that only a '.' or an end-of-string is allowed after a partial name match, allowing "sprites" to match "sprites.png" but no "save.txt" to match "save.txt~".
</li></ul>
<ul><li> Fixed compiler error if last line in file doesn't end with an EOL.
</li></ul>
<ul><li> AnimatedImage now respects its "angle" property when drawing frames.
</li></ul>
<ul><li> Fixed an audio bug for Mac and iPhone that could put sounds in a bad state if you checked is_playing() on them frequently.
</li></ul>
<ul><li> Fixed AnimatedImage's default size to be the default frame size instead of zero.
</li></ul>
<ul><li> Fixed Android build files to work with latest Windows Android SDK.  Delete your exising platforms/android/jni/*.mk files to have the change take effect.
</li></ul>
<ul><li> Fixed Android stability issues between consecutive launches of the same app.
</li></ul>
<p><br />
</p>
<a name="Previous_Versions" id="Previous_Versions"></a><h2> <span class="mw-headline"> Previous Versions </span></h2>
<ul><li> <a href="plasmacore_v33.html" title="Plasmacore v3.2">Plasmacore_v3.2</a>
</li><li> <a href="plasmacore_v34.html" title="Plasmacore v3.1">Plasmacore_v3.1</a>
</li><li> <a href="plasmacore_v35.html" title="Plasmacore v3.0">Plasmacore_v3.0</a>
</li></ul>

<!-- 
NewPP limit report
Preprocessor node count: 7/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key pw_mediawiki_user:pcache:idhash:142-0!1!0!!en!2!edit=0 and timestamp 20120628194431 -->
<div class="printfooter">
Retrieved from "<a href="">http://www.plasmaworks.com/wiki/index.php/Plasmacore_v3.3</a>"</div>
						<!-- end content --><div class="visualClear"></div></div></div></div>
    <div id="column-one">
      <div id="p-cactions" class="portlet"></div>
      <div class="portlet" id="p-personal"></div>
      <div class="portlet" id="p-logo"></div>
      <div class="portlet" id="p-nav">
  
      </div>
      <div id="p-search" class="portlet"></div>
      <div class="portlet" id="p-tb"></div>
    </div>
    <!-- end left column -->
  <!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footerHacked">
				<ul id="f-list">
					<li id="lastmod"> This page was last modified on 7 June 2011, at 20:49.</li>
					<li id="viewcount">This page has been accessed 2,510 times.</li>
					<li id="privacy"><a href="plasmaworks_privacy_policy.html" title="Plasmaworks:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="plasmaworks_about.html" title="Plasmaworks:About">About Plasmaworks</a></li>
					<li id="disclaimer"><a href="plasmaworks_general_disclaimer.html" title="Plasmaworks:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.249 secs. --><br></body></html>
