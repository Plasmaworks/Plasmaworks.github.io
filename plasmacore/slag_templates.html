<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Content generated by Mediawiki and mw2html -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta http-equiv="Content-Style-Type" content="text/css" />
		<meta name="generator" content="MediaWiki 1.15.1" />
		<meta name="keywords" content="Slag:Templates" />
		<link rel="shortcut icon" href="http://plasmaworks.com/sites/default/files/sky_favicon.ico" />
		<link rel="search" type="application/opensearchdescription+xml" href="opensearch_desc.php" title="Plasmaworks (en)" />
		<link rel="alternate" type="application/rss+xml" title="Plasmaworks RSS Feed" href="" />
		<link rel="alternate" type="application/atom+xml" title="Plasmaworks Atom Feed" href="" />
		<title>Slag:Templates - Plasmaworks</title>
		<link rel="stylesheet" href="shared.css" type="text/css" media="screen" />
		<link rel="stylesheet" href="commonprint.css" type="text/css" media="print" />
		<link rel="stylesheet" href="main.css" type="text/css" media="screen" />
		<!--[if lt IE 5.5000]><link rel="stylesheet" href="ie50fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 5.5000]><link rel="stylesheet" href="ie55fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 6]><link rel="stylesheet" href="ie60fixes.css" type="text/css" media="screen" /><![endif]-->
		<!--[if IE 7]><link rel="stylesheet" href="ie70fixes.css" type="text/css" media="screen" /><![endif]-->
		<link rel="stylesheet" href="" type="text/css" />
		<link rel="stylesheet" href="" type="text/css" media="print" />
		<link rel="stylesheet" href="" type="text/css" />
		<link rel="stylesheet" href="" type="text/css" />
		<!--[if lt IE 7]><script type="text/javascript" src="iefixes.js_207"></script>
		<meta http-equiv="imagetoolbar" content="no" /><![endif]-->

		<script type= "text/javascript">/*<![CDATA[*/
		var skin = "monobook";
		var stylepath = "/wiki/skins";
		var wgArticlePath = "/wiki/index.php/$1";
		var wgScriptPath = "/wiki";
		var wgScript = "/wiki/index.php";
		var wgVariantArticlePath = false;
		var wgActionPaths = {};
		var wgServer = "http://www.plasmaworks.com";
		var wgCanonicalNamespace = "";
		var wgCanonicalSpecialPageName = false;
		var wgNamespaceNumber = 0;
		var wgPageName = "Slag:Templates";
		var wgTitle = "Slag:Templates";
		var wgAction = "view";
		var wgArticleId = "119";
		var wgIsArticle = true;
		var wgUserName = null;
		var wgUserGroups = null;
		var wgUserLanguage = "en";
		var wgContentLanguage = "en";
		var wgBreakFrames = false;
		var wgCurRevisionId = 557;
		var wgVersion = "1.15.1";
		var wgEnableAPI = true;
		var wgEnableWriteAPI = true;
		var wgSeparatorTransformTable = ["", ""];
		var wgDigitTransformTable = ["", ""];
		var wgRestrictionEdit = [];
		var wgRestrictionMove = [];
		/*]]>*/</script>

		<script type="text/javascript" src="wikibits.js_207"><!-- wikibits js --></script>
		<!-- Head Scripts -->
		<script type="text/javascript" src="ajax.js_207"></script>
		<script type="text/javascript" src=""><!-- site js --></script>
	</head>
<body class="mediawiki ltr ns-0 ns-subject page-Slag_Templates skin-monobook">
	<div id="globalWrapperHacked">
		<div id="column-content">
	<div id="content">
		<a name="top" id="top"></a>
				<h1 id="firstHeading" class="firstHeading">Slag:Templates</h1>
		<div id="bodyContent">
			<h3 id="siteSub">From Plasmaworks</h3>
			<div id="contentSub"></div>
									<div id="jump-to-nav">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>			<!-- start content -->
			<p>Templates are to classes what classes are to objects: blueprints for classes that can be instantiated multiple times with parameterized values to create multiple specialized classes that share the same general functionality.
</p><p>Slag's templates are true templates (not generics).  They are much more powerful than C++ templates because they can be specialized with arbitrary code, not just type names.  Their most common application is to allow data structures to be adapted to various data types.
</p><p><br />
</p>
<table id="toc" class="toc" summary="Contents"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1"><a href="#Pair_Example"><span class="tocnumber">1</span> <span class="toctext">Pair Example</span></a>
<ul>
<li class="toclevel-2"><a href="#Non-templated_Code"><span class="tocnumber">1.1</span> <span class="toctext">Non-templated Code</span></a></li>
<li class="toclevel-2"><a href="#Templated_Code"><span class="tocnumber">1.2</span> <span class="toctext">Templated Code</span></a></li>
<li class="toclevel-2"><a href="#Analysis"><span class="tocnumber">1.3</span> <span class="toctext">Analysis</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="#Macro_Templates"><span class="tocnumber">2</span> <span class="toctext">Macro Templates</span></a>
<ul>
<li class="toclevel-2"><a href="#Operator_Example"><span class="tocnumber">2.1</span> <span class="toctext">Operator Example</span></a></li>
</ul>
</li>
</ul>
</td></tr></table><script type="text/javascript"> if (window.showTocToggle) { var tocShowText = "show"; var tocHideText = "hide"; showTocToggle(); } </script>
<a name="Pair_Example" id="Pair_Example"></a><h2> <span class="mw-headline"> Pair Example </span></h2>
<p>This example shows the basic idea behind templates.
</p><p><br />
</p>
<a name="Non-templated_Code" id="Non-templated_Code"></a><h3> <span class="mw-headline"> Non-templated Code </span></h3>
<pre> local Int32Pair  int_pair(3,5)
 local Real64Pair real_pair(3.0,5.0)
 println( "$ $" (int_pair,real_pair) )  # prints: (3,5) (3.0000,5.0000)
 ...
 class Int32Pair( Int32 first, Int32 second )
   method to_String.String:
     return "($,$)" (first,second)
 endClass
 ...
 class Real64Pair( Real64 first, Real64 second )
   method to_String.String:
     return "($,$)" (first,second)
 endClass
</pre>
<p>Note how the "Pair" classes only differ by the datatype used.  We can use a template to make the datatype a parameter and implicitly create two classes from the same template:
</p><p><br />
</p>
<a name="Templated_Code" id="Templated_Code"></a><h3> <span class="mw-headline"> Templated Code </span></h3>
<pre> local Pair&lt;&lt;Int32&gt;&gt;  int_pair(3,5)
 local Pair&lt;&lt;Real64&gt;&gt; real_pair(3.0,5.0)
 println( "$ $" (int_pair,real_pair) )  # prints: (3,5) (3.0000,5.0000)
 ...
 class Pair&lt;&lt;$DataType&gt;&gt;( $DataType first, $DataType second )
   method to_String.String:
     return "($,$)" (first,second)
 endClass
</pre>
<p><br />
</p>
<a name="Analysis" id="Analysis"></a><h3> <span class="mw-headline"> Analysis </span></h3>
<ul><li> "Pair&lt;&lt;$DataType&gt;&gt;" is called a <i>templated class</i> and "$DataType" is called a <i>placeholder value</i>.  You can specify more than one ("SomeType&lt;&lt;$DataType,$alpha,$beta&gt;&gt;").
</li><li> Placeholder values must start with a leading '$'.  Case does not matter as long as it is consistent.
</li><li> "Pair&lt;&lt;Int32&gt;&gt;" and "Pair&lt;&lt;Real64&gt;&gt;" are called <i>template instances</i> and the "Int32" and "Real64" are called <i>substitution values</i>.
</li><li> A template instance is just a regular class at the end of the day.  You just didn't have to duplicate all the source code manually.
</li><li> The example above creates two distinct classes: Pair&lt;&lt;Int32&gt;&gt; and Pair&lt;&lt;Real64&gt;&gt;.  They are unrelated - both are <i>instanceOf</i> class Object; they have no other common base type.  You could just as easily think of them as "Int32Pair" and "Real64Pair" - the code produced is the same in the original and the templated example.
</li></ul>
<p><br />
</p>
<a name="Macro_Templates" id="Macro_Templates"></a><h2> <span class="mw-headline"> Macro Templates </span></h2>
<p>Templates can be used in a <i>macro</i> style, meaning that you can insert arbitrary code as the substitution value.
</p><p><br />
</p>
<a name="Operator_Example" id="Operator_Example"></a><h3> <span class="mw-headline"> Operator Example </span></h3>
<pre> class OpTest
   method init:
     local Op&lt;&lt;+&gt;&gt; plus()
     local Op&lt;&lt;*&gt;&gt; times()
     println( plus.apply(3,5) )   # prints:  8
     println( times.apply(3,5) )  # prints: 15
 endClass
  
 class Op&lt;&lt;$op&gt;&gt;()
     method apply( Int32 lhs, Int32 rhs ).Int32:
       return lhs $op rhs
 endClass
</pre>
<!-- 
NewPP limit report
Preprocessor node count: 7/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key pw_mediawiki_user:pcache:idhash:119-0!1!0!!en!2!edit=0 and timestamp 20120628114309 -->
<div class="printfooter">
Retrieved from "<a href="">http://www.plasmaworks.com/wiki/index.php/Slag:Templates</a>"</div>
						<!-- end content --><div class="visualClear"></div></div></div></div>
    <div id="column-one">
      <div id="p-cactions" class="portlet"></div>
      <div class="portlet" id="p-personal"></div>
      <div class="portlet" id="p-logo"></div>
      <div class="portlet" id="p-nav">
  
      </div>
      <div id="p-search" class="portlet"></div>
      <div class="portlet" id="p-tb"></div>
    </div>
    <!-- end left column -->
  <!-- end of the left (by default at least) column -->
			<div class="visualClear"></div>
			<div id="footerHacked">
				<ul id="f-list">
					<li id="lastmod"> This page was last modified on 11 May 2010, at 20:41.</li>
					<li id="viewcount">This page has been accessed 623 times.</li>
					<li id="privacy"><a href="plasmaworks_privacy_policy.html" title="Plasmaworks:Privacy policy">Privacy policy</a></li>
					<li id="about"><a href="plasmaworks_about.html" title="Plasmaworks:About">About Plasmaworks</a></li>
					<li id="disclaimer"><a href="plasmaworks_general_disclaimer.html" title="Plasmaworks:General disclaimer">Disclaimers</a></li>
			</ul>
		</div>
</div>

		<script type="text/javascript">if (window.runOnloadHook) runOnloadHook();</script>
<!-- Served in 0.253 secs. --><br></body></html>
